function reposition(a,b,c,d){var e=$(a).parent(),f=$(e).width(),g=Math.floor((f-c)/(d+c)),h=g*(d+c)+c;if(numcols==g){$(a).width(h);return}numcols=g;var i=[],j=0,k=0,l=$(e).height();for(var m=0;m<g;m++)i.push(c);$(b).each(function(){j=i.indexOf(Array.min(i));$(this).css({top:i[j]+c,left:c+j*(d+c)},200);i[j]+=c+$(this).outerHeight()});k=Array.max(i)+c;if(l!=k){$(a).height(k)}$(a).width(h)}Array.min=function(a){return Math.min.apply(Math,a)};Array.max=function(a){return Math.max.apply(Math,a)};var numcols=0;$(document).ready(function(){function d(){reposition(a,b,20,c)}var a=$("#container"),b=$(".item"),c=b.first().outerWidth();reposition(a,b,20,c);$(window).resize(d)})